@use '../../globals/theme';
@use '../../globals/spacing';
@use '../../globals/vars';
@use "../../globals/colors";
@use "../../globals/mixins";
@use './TableHead/table-head';
@use './TableFoot/table-foot';
@use './TableSkeletonWithHeaders/table-skeleton-with-headers';
@use './TableCellRenderer/table-cell-renderer';
@use './TableDetailWizard/table-detail-wizard';
@use './TableMultiSortModal/table-multi-sort-modal';

table.#{vars.$prefix}--side-nav--data-table {
  white-space: nowrap;
}

.#{vars.$iot-prefix}--data-table--row-actions {
  height: 0;
}

.#{vars.$iot-prefix}--data-table--fixed {
  table-layout: fixed;
}

.#{vars.$iot-prefix}--data-table--column-groups {
  border-collapse: separate;
}

.#{vars.$iot-prefix}--table__cell--truncate {
  max-width: 0;
}

td.#{vars.$iot-prefix}--table__cell--sortable {
  padding-right: spacing.$spacing-09;
}

.#{vars.$iot-prefix}--data-table--resize td {
  word-break: break-all;
}

.#{vars.$iot-prefix}--table-container {
  min-width: unset;
  padding-top: 0;

  .addons-iot-table-container {
    overflow-x: auto;
  }
}

.#{vars.$iot-prefix}-table-container--dropdown-height-fix {
  background-color: theme.$ui-01;
  min-height: calc(#{spacing.$spacing-10} * 5);
  .#{vars.$prefix}--data-table-content {
    min-height: calc(#{spacing.$spacing-10} * 5);
  }
}

html[dir='rtl'] {
  .#{vars.$iot-prefix}--expanded-tablerow td:first-of-type:before {
    left: auto;
    right: 0;
  }
  .#{vars.$iot-prefix}--expanded-tablerow > td * {
    text-align: right;
  }

  td.#{vars.$iot-prefix}--table__cell--sortable {
    padding-left: spacing.$spacing-08;
  }
}

.#{vars.$iot-prefix}--empty-table--table-row {
  height: calc(100% - #{spacing.$spacing-09});
  &:hover td {
    background: inherit;
  }
  .empty-table-cell--default {
    --height-threshold: 500px;
    --is-large-card: Min(1px, Max(var(--card-content-height) - var(--height-threshold), 0px));
    display: flex;
    align-items: flex-start;
    justify-content: center;
    flex-direction: column;
    // 3rem since we can't multiply 1px * 3rem in calc
    // stylelint-disable-next-line declaration-property-unit-blacklist
    padding: Max(calc(48 * var(--is-large-card)), 0px);
    svg {
      margin: spacing.$spacing-05;
    }

    & > * {
      margin: spacing.$spacing-03;
    }
  }

  td {
    border-bottom: unset;
  }
}

.#{vars.$iot-prefix}--table__advanced-filters-container {
  background-color: theme.$ui-01;
  padding: spacing.$spacing-02 spacing.$spacing-04;
  border-top: 1px solid theme.$ui-03;

  .#{vars.$prefix}--tag {
    color: theme.$interactive-01;
    background-color: colors.$blue-20;
  }
}

// needed specificity to override .iot--tooltip-svg-wrapper and allow flyout to align
// properly with button
button.#{vars.$prefix}--btn.#{vars.$iot-prefix}--tooltip-svg-wrapper.#{vars.$prefix}--btn--ghost.#{vars.$iot-prefix}--table-toolbar__advanced-filters-button {
  border: 1px solid transparent;

  &.#{vars.$iot-prefix}--table-toolbar-button-active {
    @include mixins.box-shadow;
  }
}

// regression fix for tiny expand chrevron on some expandable table rows
.#{vars.$prefix}--data-table thead th.#{vars.$prefix}--table-expand,
.#{vars.$prefix}--data-table tbody td.#{vars.$prefix}--table-expand {
  height: spacing.$spacing-07;
  width: spacing.$spacing-08;
}
